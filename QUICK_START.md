# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

### ç¬¬ä¸€æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

é¡¹ç›®æä¾›äº†è¯¦ç»†çš„é…ç½®æ¨¡æ¿æ–‡ä»¶ `.env.example`ï¼ŒåŒ…å«äº†æ‰€æœ‰å¿…è¦çš„é…ç½®é¡¹å’Œä¸­æ–‡è¯´æ˜ï¼š

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆè‡³å°‘ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼‰
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

**å¿…é¡»ä¿®æ”¹çš„é…ç½®é¡¹ï¼š**
- `ADMIN_PASSWORD` - ç®¡ç†å‘˜å¯†ç ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ï¼ï¼‰
- `JWT_SECRET_KEY` - JWT å¯†é’¥ï¼ˆå¯ç”¨ `openssl rand -hex 32` ç”Ÿæˆï¼‰

**å¯é€‰é…ç½®é¡¹ï¼š**
- `ADMIN_USERNAME` - ç®¡ç†å‘˜ç”¨æˆ·åï¼ˆé»˜è®¤ adminï¼‰
- `SERVER_PORT` - æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ 8000ï¼‰
- å…¶ä»–é…ç½®é€šå¸¸ä¿æŒé»˜è®¤å³å¯

ğŸ’¡ **æç¤º**ï¼š`.env.example` æ–‡ä»¶åŒ…å«äº†æ¯ä¸ªé…ç½®é¡¹çš„è¯¦ç»†ä¸­æ–‡è¯´æ˜å’Œä½¿ç”¨å»ºè®®ï¼Œå»ºè®®ä»”ç»†é˜…è¯»ã€‚

### ç¬¬äºŒæ­¥ï¼šæ„å»ºå¹¶å¯åŠ¨

```bash
# 1. æ„å»ºå‰ç«¯
./build-frontend.sh

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d

# 3. è®¿é—®
open http://localhost:8000
```

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
- ç”¨æˆ·å: `admin`ï¼ˆåœ¨ `.env` ä¸­é…ç½®ï¼‰
- å¯†ç : `admin`ï¼ˆâš ï¸ å¼ºçƒˆå»ºè®®åœ¨ `.env` ä¸­ä¿®æ”¹ï¼ï¼‰

---

## ğŸ“– ä½¿ç”¨æµç¨‹

### ç®¡ç†å‘˜æ“ä½œ

1. **ç™»å½•ç®¡ç†åå°**
   - è®¿é—® http://localhost:8000
   - ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•

2. **æ·»åŠ Twitchç”¨æˆ·åˆ°Bot**
   - ç‚¹å‡»"æ·»åŠ ç”¨æˆ·"
   - ç³»ç»Ÿä¼šè°ƒç”¨C# botçš„ `--add-account` å‘½ä»¤
   - æŸ¥çœ‹Dockeræ—¥å¿—è·å–Twitchæˆæƒé“¾æ¥å’Œä»£ç 
   - å°†é“¾æ¥å’Œä»£ç å‘ç»™è¦æ·»åŠ çš„ç”¨æˆ·
   - ç”¨æˆ·å®Œæˆæˆæƒåï¼ŒC# botä¼šè‡ªåŠ¨æ·»åŠ åˆ° config.json

3. **ç®¡ç†ç”¨æˆ·**
   - å¯ç”¨/ç¦ç”¨ç”¨æˆ·çš„bot
   - åˆ é™¤ç”¨æˆ·
   - æŸ¥çœ‹ç”¨æˆ·çŠ¶æ€

### æ™®é€šç”¨æˆ·æ“ä½œ

1. **ç™»å½•æŸ¥çœ‹è‡ªå·±ä¿¡æ¯**
   - è®¿é—® http://localhost:8000
   - ç‚¹å‡»"é€šè¿‡Twitchç™»å½•"
   - å®ŒæˆTwitch OAuthæˆæƒ
   - å‰æï¼šç®¡ç†å‘˜å·²ç»æ·»åŠ äº†ä½ çš„è´¦æˆ·åˆ°bot

2. **æŸ¥çœ‹Dashboard**
   - æŸ¥çœ‹botè¿è¡ŒçŠ¶æ€
   - æŸ¥çœ‹å½“å‰Campaign
   - æŸ¥çœ‹è§‚çœ‹è¿›åº¦

3. **é…ç½®ç®¡ç†**
   - è®¾ç½®ä¼˜å…ˆæ¸¸æˆåˆ—è¡¨
   - ä¿å­˜é…ç½®

4. **æŸ¥çœ‹æ—¥å¿—**
   - å®æ—¶æŸ¥çœ‹botæ—¥å¿—
   - åˆ†é¡µæµè§ˆå†å²æ—¥å¿—

---

## ğŸ”§ å¼€å‘æ¨¡å¼

### åç«¯

```bash
cd web-backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000
```

### å‰ç«¯

```bash
cd web-frontend
npm install
npm run dev  # è¿è¡Œåœ¨ 8080ï¼Œè‡ªåŠ¨ä»£ç†APIåˆ°8000
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šæ— æ³•è®¿é—®å‰ç«¯

**æ£€æŸ¥**ï¼š
```bash
# ç¡®è®¤å‰ç«¯å·²æ„å»º
ls -la web-backend/static/

# å¦‚æœæ²¡æœ‰ï¼Œè¿è¡Œæ„å»º
./build-frontend.sh
```

### é—®é¢˜ï¼šç®¡ç†å‘˜ç™»å½•å¤±è´¥

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
cat .env

# å¦‚æœæ²¡æœ‰.envï¼Œåˆ›å»ºä¸€ä¸ª
echo "ADMIN_USERNAME=admin" > .env
echo "ADMIN_PASSWORD=admin" >> .env
echo "JWT_SECRET_KEY=$(openssl rand -hex 32)" >> .env
```

### é—®é¢˜ï¼šæ·»åŠ ç”¨æˆ·åçœ‹ä¸åˆ°

**åŸå› **ï¼šC# botçš„ `--add-account` æ˜¯äº¤äº’å¼å‘½ä»¤

**æŸ¥çœ‹è¾“å‡º**ï¼š
```bash
docker compose logs -f drop
```

ä½ åº”è¯¥çœ‹åˆ°Twitchæˆæƒé“¾æ¥å’Œä»£ç ï¼Œç±»ä¼¼ï¼š
```
Please visit: https://www.twitch.tv/activate
Enter code: ABCD-EFGH
```

---

## ğŸ“ å…³é”®æ–‡ä»¶ä½ç½®

```
/root/twitch/
â”œâ”€â”€ config.json          # Boté…ç½®ï¼ˆC# botç®¡ç†ï¼‰
â”œâ”€â”€ logs/                # Botæ—¥å¿—
â”‚   â”œâ”€â”€ {username}.txt
â”‚   â””â”€â”€ system-log.txt
â”œâ”€â”€ web-backend/
â”‚   â”œâ”€â”€ app.db           # Webæ•°æ®åº“ï¼ˆç®¡ç†å‘˜è´¦æˆ·ï¼‰
â”‚   â””â”€â”€ static/          # å‰ç«¯æ„å»ºæ–‡ä»¶
â””â”€â”€ web-frontend/
    â””â”€â”€ dist/            # æ„å»ºè¾“å‡º
```

---

## ğŸ” å®‰å…¨æç¤º

ç”Ÿäº§ç¯å¢ƒå¿…é¡»ï¼š
1. ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. æ›´æ¢ JWT_SECRET_KEY
3. ä½¿ç”¨ HTTPS
4. é™åˆ¶æ–‡ä»¶æƒé™

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- `README.md` - å®Œæ•´é¡¹ç›®è¯´æ˜
- `ARCHITECTURE.md` - ç³»ç»Ÿæ¶æ„è®¾è®¡
- `DEPLOYMENT.md` - éƒ¨ç½²æŒ‡å—
- `CLAUDE.md` - å¼€å‘è€…å‚è€ƒ

---

## âš¡ å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# é‡å¯æœåŠ¡
docker compose restart

# åœæ­¢æœåŠ¡
docker compose down

# æ›´æ–°å‰ç«¯åé‡å¯
./build-frontend.sh && docker compose restart web

# æ‰‹åŠ¨æ·»åŠ è´¦æˆ·ï¼ˆé€šè¿‡botï¼‰
./add_account.sh
```
